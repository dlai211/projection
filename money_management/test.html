<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vacation Money Manager</title>
  <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#0f172a; --panel:#111827; --muted:#94a3b8; --acc:#22d3ee; --text:#e5e7eb; }
    *{ box-sizing:border-box; }
    body{ margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial; background:var(--bg); color:var(--text); }
    header{ padding:18px 20px; border-bottom:1px solid #1f2937; display:flex; gap:12px; align-items:center; justify-content:space-between; }
    header h1{ margin:0; font-size:18px; letter-spacing:.2px; }
    .wrap{ max-width:1100px; margin:20px auto; padding:0 16px; }
    .card{ background:var(--panel); border:1px solid #1f2937; border-radius:16px; box-shadow:0 4px 24px rgba(0,0,0,.25); }
    .row{ display:grid; gap:16px; grid-template-columns:1.25fr .75fr; }
    @media (max-width: 980px){ .row{ grid-template-columns:1fr; } }
    .pad{ padding:16px; }
    .controls{ display:grid; grid-template-columns: 1fr 1fr 1fr auto; gap:10px; }
    .controls input, .controls button, .controls select, .controls label{
      font-size:14px; border-radius:10px; border:1px solid #374151; background:#0b1220; color:var(--text); padding:10px 12px; outline:none;
    }
    .controls button{ background:#0ea5e9; border:none; cursor:pointer; font-weight:600; }
    .controls button.secondary{ background:#1f2937; border:1px solid #334155; }
    .controls button.acc{ background:#22c55e; }
    .controls small{ color:var(--muted); display:block; margin-top:8px; }
    #chart{ width:100%; height:460px; }
    .flex{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .right{ display:flex; gap:8px; align-items:center; justify-content:flex-end; }
    .muted{ color:var(--muted); }
    table{ width:100%; border-collapse:collapse; font-size:14px; }
    th, td{ padding:10px 8px; border-bottom:1px solid #1f2937; }
    th{ text-align:left; color:#cbd5e1; font-weight:600; }
    td .del{ background:#ef4444; color:white; border:none; border-radius:8px; padding:6px 10px; cursor:pointer; }
    .totals{ display:flex; gap:16px; align-items:center; flex-wrap:wrap; }
    .badge{ background:#0b1220; border:1px solid #334155; border-radius:999px; padding:6px 10px; font-size:12px; color:#cbd5e1; }
  </style>
</head>
<body>
  <header>
    <h1>ðŸ’¸ Vacation Money Manager</h1>
    <div class="right pad" style="padding:0">
      <button class="secondary" id="btnExport" title="Download your data as a JSON config file">Export config</button>
      <label class="secondary" for="importFile" style="cursor:pointer;">Import config</label>
      <input id="importFile" type="file" accept="application/json" style="display:none" />
      <button class="secondary" id="btnClear">Clear all</button>
    </div>
  </header>

  <div class="wrap">
    <div class="card pad" style="margin-bottom:16px">
      <div class="controls">
        <input type="date" id="inDate" />
        <input type="text" id="inItem" placeholder="Item (e.g., Ferry tickets)" />
        <input type="number" step="0.01" min="0" id="inPrice" placeholder="Price" />
        <button id="btnAdd">Add</button>
      </div>
      <div class="flex" style="margin-top:10px; justify-content:space-between">
        <div class="totals" id="totalsBar">
          <!-- totals summary badges rendered here -->
        </div>
        <div class="flex">
          <label class="secondary" style="padding:8px 10px;">Group by:
            <select id="groupMode" style="margin-left:6px">
              <option value="item" selected>Item (stack items)</option>
              <option value="category">Category</option>
            </select>
          </label>
          <input type="text" id="inCategory" placeholder="(optional) Category for last added/edited" title="Category is optional. If provided, the chart can group by it."/>
        </div>
      </div>
    </div>

    <div class="card pad" style="margin-bottom:16px">
      <div id="chart"></div>
    </div>

    <div class="card pad">
      <div class="flex" style="justify-content:space-between; margin-bottom:6px;">
        <strong>Your items</strong>
        <span class="muted" id="countSpan"></span>
      </div>
      <table>
        <thead>
          <tr>
            <th style="width:140px">Date</th>
            <th>Item</th>
            <th style="width:140px">Category</th>
            <th style="width:120px">Price</th>
            <th style="width:80px">Action</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>
  </div>

  <script>
    
  </script>
</body>
</html>